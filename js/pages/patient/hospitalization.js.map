{"version":3,"sources":["pages/patient/hospitalization.ts"],"names":[],"mappings":"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","file":"hospitalization.js","sourcesContent":["import {createCalendars, CalendarWrapper} from \"../../ui/calendar\";\nimport Popup from \"../../ui/popup/popup\";\nimport JSONContentBuilder from \"../../ui/popup/json-content-builder\";\nimport {ContentBuilder} from \"../../ui/popup/content-builder\";\nimport HospitalizationPopupContentBuilder from \"./hospitalization-popup-content-builder\";\nimport lang from \"../../lang\";\nimport { findSelectById, SelectContainer } from '../../ui/select';\nimport api from \"../../api\";\nimport HospitalizationPopupContentBuilderExtended from \"./hospitalization-popup-content-builder-extended\";\nimport HospitalizationPopupProcedureContentBuilder from \"./hospitalization-popup-procedure-content-builder\";\n\nlet calendarDay:HTMLElement = null;\n\nlet medicaments:HTMLElement = null;\n\nlet procedures:HTMLElement = null;\n\nlet activeDay = null;\n\nlet popup:Popup = null;\n\nlet activeCalendar = null;\n\nlet activeDayTag:string;\n\nlet config:any = {};\n\nlet isEditing:boolean = false;\n\nfunction deleteItemCallback () {\n    let item = this.item;\n    let rawItem = this.rawItem;\n    let day = this.day;\n    let type = this.type;\n\n    day[type].splice(day[type].indexOf(rawItem), 1);\n    item.parentElement.removeChild(item);\n}\n\nfunction editItemCallback () {\n    let editPopup:Popup = new Popup(null, \"Редактирование элемента\", \"\");\n    let popupBuilder;\n    if (isEditing) {\n        popupBuilder = new HospitalizationPopupContentBuilderExtended();\n        editPopup.onPopupAppeared = popupBuilder.onPopupAppeared.bind(popupBuilder);\n    } else {\n        popupBuilder = new HospitalizationPopupContentBuilder();\n    }\n    let rawItem = this.rawItem;\n    let day = this.day;\n\n    popupBuilder.popup = editPopup;\n    editPopup.basicContentBuilder = popupBuilder;\n    editPopup.isForm = true;\n    editPopup.create(this.rawItem);\n    editPopup.setOnSubmitEventListener(function (form) {\n        debugger;\n        rawItem.name = form.name.value;\n        rawItem.measure = form.measure.value;\n        rawItem.origin_name = form.origin_name.value;\n\n        rawItem.nomenclature_id = form.nomenclature_id.value;\n        rawItem.unit_id = form.unit_id.value;\n        rawItem.amount = form.amount.value;\n\n        rawItem.is_set = form.use_set_instead_of_nomenclature.checked;\n\n        if (rawItem.is_set) {\n            rawItem.set_id = form.set.value;\n        }\n\n        editPopup.close();\n\n        recreateDay(day);\n    });\n\n    editPopup.show();\n}\n\nfunction editProcedureItemCallback () {\n    let editPopup:Popup = new Popup(null, \"Редактирование элемента\", \"\");\n    let popupBuilder;\n    popupBuilder = new HospitalizationPopupProcedureContentBuilder();\n    editPopup.onPopupAppeared = popupBuilder.onPopupAppeared.bind(popupBuilder);\n    let rawItem = this.rawItem;\n    let day = this.day;\n\n    popupBuilder.popup = editPopup;\n    editPopup.basicContentBuilder = popupBuilder;\n    editPopup.isForm = true;\n    editPopup.create(this.rawItem);\n    editPopup.setOnSubmitEventListener(function (form) {\n        rawItem.name = form.name.value;\n        rawItem.id = form.procedure.id;\n\n        // rawItem.name = form.name.value;\n        // rawItem.measure = form.measure.value;\n        // rawItem.origin_name = form.origin_name.value;\n        //\n        // rawItem.nomenclature_id = form.nomenclature_id.value;\n        // rawItem.unit_id = form.unit_id.value;\n        // rawItem.amount = form.amount.value;\n\n        editPopup.close();\n\n        recreateDay(day);\n    });\n\n    editPopup.show();\n}\n\nfunction onDayClicked (day:string, dayValue:any, calendar:CalendarWrapper) {\n    if (typeof dayValue.nomenclatures === \"undefined\") {\n        dayValue.nomenclatures = [];\n        dayValue.procedures = [];\n        dayValue.tag = day;\n    }\n\n    activeCalendar = calendar;\n    activeDayTag = day;\n\n    activeDay = dayValue;\n\n    recreateDay(dayValue);\n\n    if (dayValue.nomenclatures.length > 0 || dayValue.procedures.length > 0) {\n        calendar.calendarDatesTable.querySelector('[data-tag=\"' + day + '\"]').classList.add('active');\n    }\n\n}\n\nfunction recreateDay (day:any) {\n    while (medicaments.firstElementChild) {\n        medicaments.removeChild(medicaments.firstElementChild);\n    }\n\n    while (procedures.firstElementChild) {\n        procedures.removeChild(procedures.firstElementChild);\n    }\n\n    for (let i = 0; i < day.nomenclatures.length; i++) {\n        let li = document.createElement('li');\n        let name = document.createElement('p');\n        let measure = document.createElement('p');\n\n        let link = document.createElement('a');\n\n        link.setAttribute('href', 'javascript:');\n\n        if (typeof day.nomenclatures[i].origin_name !== \"undefined\") {\n            link.innerHTML = day.nomenclatures[i].name + ' (' + day.nomenclatures[i].origin_name + ')';\n        } else {\n            link.innerHTML = day.nomenclatures[i].name;\n        }\n\n        if (typeof day.nomenclatures[i].amount !== \"undefined\") {\n            measure.innerHTML = day.nomenclatures[i].amount + ' (' + day.nomenclatures[i].measure + ')'\n        } else {\n            measure.innerHTML = day.nomenclatures[i].measure;\n        }\n\n        name.classList.add('name');\n        measure.classList.add('measure');\n\n        li.appendChild(name);\n        li.appendChild(measure);\n\n        name.appendChild(link);\n\n        medicaments.appendChild(li);\n\n        if (!config.justView) {\n            let actions = document.createElement('div');\n            let deleteButton = document.createElement('a');\n            let editButton = document.createElement('a');\n\n            let buttonsGroup = document.createElement('div');\n\n            actions.classList.add('actions');\n\n            buttonsGroup.classList.add('btn-group');\n\n            deleteButton.classList.add('btn', 'btn-small');\n            deleteButton.innerHTML = lang.get('ui.hospitalization.item.delete');\n            deleteButton.setAttribute('href', 'javascript:');\n\n            editButton.classList.add('btn', 'btn-small');\n            editButton.innerHTML = lang.get('ui.hospitalization.item.edit');\n            editButton.setAttribute('href', 'javascript:');\n\n            let type = \"nomenclatures\";\n            let buttonThisRedefined = {\n                item: li,\n                rawItem: day[type][i],\n                day: day,\n                type: type\n            };\n\n            deleteButton.addEventListener('click', deleteItemCallback.bind(buttonThisRedefined));\n            editButton.addEventListener('click', editItemCallback.bind(buttonThisRedefined));\n\n            li.appendChild(buttonsGroup);\n            buttonsGroup.appendChild(deleteButton);\n            buttonsGroup.appendChild(editButton);\n        }\n    }\n\n    for (let i = 0; i < day.procedures.length; i++) {\n        let item = document.createElement('li');\n        let p = document.createElement('p');\n        let link = document.createElement('a');\n\n        p.classList.add('name');\n        link.innerHTML = day.procedures[i].name;\n        link.href = 'javascript:';\n\n        p.appendChild(link);\n        item.appendChild(p);\n        procedures.appendChild(item);\n\n        if (!config.justView) {\n            let actions = document.createElement('div');\n            let deleteButton = document.createElement('a');\n            let editButton = document.createElement('a');\n\n            let buttonsGroup = document.createElement('div');\n\n            actions.classList.add('actions');\n\n            buttonsGroup.classList.add('btn-group');\n\n            deleteButton.classList.add('btn', 'btn-small');\n            deleteButton.innerHTML = lang.get('ui.hospitalization.item.delete');\n            deleteButton.setAttribute('href', 'javascript:');\n\n            editButton.classList.add('btn', 'btn-small');\n            editButton.innerHTML = lang.get('ui.hospitalization.item.edit');\n            editButton.setAttribute('href', 'javascript:');\n\n            let type = \"procedures\";\n            let buttonThisRedefined = {\n                item: item,\n                rawItem: day[type][i],\n                day: day,\n                type: type\n            };\n\n            deleteButton.addEventListener('click', deleteItemCallback.bind(buttonThisRedefined));\n            editButton.addEventListener('click', editProcedureItemCallback.bind(buttonThisRedefined));\n\n            item.appendChild(buttonsGroup);\n            buttonsGroup.appendChild(deleteButton);\n            buttonsGroup.appendChild(editButton);\n        }\n    }\n}\n\nfunction addNewNomenclature (form) {\n    activeDay.nomenclatures.push({\n        name: form.name.value,\n        measure: form.measure.value\n    });\n\n    if (activeDay.nomenclatures.length > 0 || activeDay.procedures.length > 0) {\n        activeCalendar.calendarDatesTable.querySelector('[data-tag=\"' + activeDayTag + '\"]').classList.add('active');\n    }\n\n    popup.close();\n\n    recreateDay(activeDay);\n}\n\nfunction addNewProcedure (form) {\n    activeDay.procedures.push({\n        id: form.procedure.value,\n        name: form.name.value\n    });\n\n    popup.close();\n    recreateDay(activeDay);\n}\n\nexport default function hospitalization() {\n\n    let calendarTarget = document.querySelector('[data-tab=\"hospitalization\"] .calendar-container');\n\n    if (calendarTarget === null) {\n        calendarTarget = document.querySelector('[data-tab=\"review\"] .calendar-container, [data-tab=\"flow\"] .calendar-container');\n    }\n\n    const calendarValue:HTMLTextAreaElement = document.querySelector('#calendar_value') as HTMLTextAreaElement;\n    if (calendarValue === null) {\n        return;\n    }\n\n    const predefinedValue = calendarValue.value.length > 2 ? JSON.parse(calendarValue.value) : {};\n    const hospitalizationForm:HTMLFormElement = document.querySelector('form.steps') as HTMLFormElement;\n\n    isEditing = calendarValue.value.length > 2;\n\n    const createdCalendar:CalendarWrapper = createCalendars(calendarTarget as HTMLElement, predefinedValue);\n    const nextStepButton = document.querySelector('.next-step');\n    const cureApproveBtn = document.querySelector('#cureApproveBtn');\n\n    activeCalendar = createdCalendar;\n\n    if (typeof (window as any).calendarConfig !== \"undefined\") {\n        config = (window as any).calendarConfig;\n    } else {\n        config = {\n            justView: false\n        };\n    }\n\n    let currentStep = 1;\n\n    createdCalendar.onDayClicked = onDayClicked;\n\n    (window as any).createdCalendar = createdCalendar;\n\n    calendarDay = calendarTarget.querySelector('.calendar-day') as HTMLElement;\n    medicaments = calendarDay.querySelector('.medicaments') as HTMLElement;\n    procedures = calendarDay.querySelector('.procedures') as HTMLElement;\n\n    let addNomenclatureButton = calendarTarget.querySelector('.add-medicament');\n    let addProcedureButton = calendarTarget.querySelector('.add-procedure');\n    if (addNomenclatureButton !== null) {\n        addNomenclatureButton.addEventListener('click', function () {\n            popup = new Popup(null, 'Добавление медикамента', 'Для даты ' + activeDay.tag);\n            let popupBuilder = null;\n            // todo: fix it\n            // if (isEditing) {\n            //     popupBuilder = new HospitalizationPopupContentBuilderExtended();\n            // } else {\n                popupBuilder = new HospitalizationPopupContentBuilder();\n            // }\n            popupBuilder.popup = popup;\n            popup.basicContentBuilder = popupBuilder;\n            popup.isForm = true;\n            popup.create();\n            popup.show();\n\n            popup.setOnSubmitEventListener(addNewNomenclature);\n        });\n    }\n\n    if (addProcedureButton !== null) {\n        addProcedureButton.addEventListener('click', function () {\n            popup = new Popup(null, \"Добавление процедуры\", 'Для даты ' + activeDay.tag);\n            let builder = new HospitalizationPopupProcedureContentBuilder();\n            builder.popup = popup;\n            popup.basicContentBuilder = builder;\n            popup.isForm = true;\n            popup.onPopupAppeared = builder.onPopupAppeared.bind(builder);\n            popup.create();\n            popup.show();\n\n            popup.setOnSubmitEventListener(addNewProcedure);\n        });\n    }\n\n    if (nextStepButton !== null) {\n        nextStepButton.addEventListener('click', function () {\n            if (currentStep == 1) {\n                currentStep++;\n            } else if (currentStep == 2) {\n                let data:any = {};\n\n                for (let key in activeCalendar.datesContainer) {\n                    let currentDay = activeCalendar.datesContainer[key];\n                    if (\n                        currentDay !== {} &&\n                        typeof currentDay.nomenclatures !== \"undefined\" &&\n                        typeof currentDay.procedures !== \"undefined\" && (\n                            currentDay.nomenclatures.length > 0 ||\n                            currentDay.procedures.length > 0\n                        )\n                    ) {\n                        data[key] = activeCalendar.datesContainer[key];\n                    }\n                }\n\n                calendarValue.value = JSON.stringify(data);\n                hospitalizationForm.submit();\n            }\n        });\n    }\n\n    if (cureApproveBtn !== null) {\n        cureApproveBtn.addEventListener('click', function (e) {\n            let data:any = {};\n\n            for (let key in activeCalendar.datesContainer) {\n                let currentDay = activeCalendar.datesContainer[key];\n                if (\n                    currentDay !== {} &&\n                    typeof currentDay.nomenclatures !== \"undefined\" &&\n                    typeof currentDay.procedures !== \"undefined\" && (\n                        currentDay.nomenclatures.length > 0 ||\n                        currentDay.procedures.length > 0\n                    )\n                ) {\n                    data[key] = activeCalendar.datesContainer[key];\n                }\n            }\n\n            calendarValue.value = JSON.stringify(data);\n        });\n    }\n\n    let departmentSelect:SelectContainer = findSelectById('hospitalization_department');\n    if (departmentSelect !== null) {\n        let userSelect:SelectContainer = findSelectById('user_id_select');\n\n        departmentSelect.addOnChangeEventListener(function (option) {\n            (window as any).department = {\n                id: option.value\n            };\n            userSelect.searchUrl = '/api/search/department/' + departmentSelect.selected.value + '/users';\n            api.get(userSelect.searchUrl)\n                .then(response => response.json())\n                .then(items => userSelect.processItems(items))\n                .then(items => userSelect.setPlaceholderText());\n        });\n    }\n\n}"]}