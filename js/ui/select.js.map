{"version":3,"sources":["ui/select.ts"],"names":[],"mappings":"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","file":"select.js","sourcesContent":["import Popup from \"../ui/popup/popup\";\nimport { ContentBuilder } from \"../ui/popup/content-builder\";\nimport lang from \"../lang\"\nimport api from \"../api\";\n\nexport interface SelectItem {\n\n    text:string;\n\n    value:string;\n\n    element:HTMLDivElement;\n\n    isSelected:boolean;\n\n    metadata?:any;\n\n    createItem?(instance:SelectContainer, item:SelectItem):HTMLElement;\n\n}\n\nexport class SelectContainer {\n\n    items:SelectItem[];\n\n    header:HTMLDivElement;\n\n    wrapper:HTMLDivElement;\n\n    element:HTMLInputElement;\n\n    useAjax:boolean;\n\n    title:string;\n\n    subtitle:string;\n\n    selected:SelectItem;\n\n    isSearchable:boolean = false;\n\n    searchUrl:string = \"\";\n\n    searchAliasUrl:string = \"\";\n\n    preloadUrl:string = \"\";\n\n    searchPlaceholder:string = \"\";\n\n    searchInput:HTMLInputElement = null;\n\n    optionsWrapper:HTMLDivElement;\n\n    emptyPlaceholder:string;\n\n    processItemCallback:any = null;\n\n    onItemSelectedCallbacks:any = [];\n\n    clearOption () {\n        while (this.optionsWrapper.firstElementChild) {\n            this.optionsWrapper.removeChild(this.optionsWrapper.firstElementChild);\n        }\n\n        this.items.splice(0, this.items.length);\n    }\n\n    processItems (items:any): SelectItem[] {\n        this.items = this.processItemCallback !== null ? items.map(this.processItemCallback) : items;\n        return this.items;\n    }\n\n    setPlaceholderText (text:string = null) {\n        if (text === null) {\n            if (this.emptyPlaceholder.length > 0) {\n                text = this.emptyPlaceholder;\n            } else {\n                if (this.items.length < 1) {\n                    throw {\n                        text: \"Select container items is empty\",\n                        container: this\n                    };\n                }\n                let item:SelectItem = this.items.filter(item => item == this.selected) as any;\n                if (item === null || (item as any).length < 1) {\n                    item = this.items[this.items.length - 1];\n                }\n                text = item.text;\n            }\n        }\n\n        this.header.innerHTML = text;\n    }\n\n    addOnChangeEventListener (callback:any) {\n        this.onItemSelectedCallbacks.push(callback);\n    }\n\n    fireOnChangeEvent() {\n        this.onItemSelectedCallbacks.forEach(callback => callback.call(window, this.selected, this));\n    }\n\n}\n\nconst selects:SelectContainer[] = [];\nlet currentPopup:Popup = null;\nlet lastText:string = null;\nlet createOptionsCallbacks:any = {};\nlet containersAssociations = {};\n\nfunction createOption (instance:SelectContainer, data:SelectItem): HTMLDivElement {\n    let option:HTMLDivElement = document.createElement('div');\n\n    data.element = option;\n\n    option.innerHTML = data.text;\n    option.setAttribute('data-value', data.value);\n\n    option.classList.add('select-option');\n\n    option.addEventListener('click', onItemSelected.bind({\n        instance: instance,\n        current: data\n    }));\n\n    if (data.isSelected === true) {\n        option.classList.add('active');\n    }\n\n    return option;\n}\n\nfunction updateOptions (elements, instance:SelectContainer) {\n    instance.clearOption();\n\n    let searchUrl = instance.searchUrl;\n    elements = instance.processItems(elements);\n\n    for (let i = 0; i < elements.length; i++) {\n        let itemWrapper:SelectItem = elements[i];\n\n        if (instance.selected !== null && instance.selected.value == itemWrapper.value) {\n            itemWrapper.isSelected = true;\n        }\n        let option:HTMLElement = null;\n        if (typeof itemWrapper.createItem !== \"undefined\" && itemWrapper.createItem !== null) {\n            option = itemWrapper.createItem(instance, itemWrapper);\n        } else {\n            option = createOption(instance, itemWrapper);\n        }\n        instance.optionsWrapper.appendChild(option);\n    }\n\n    currentPopup.setPopupLocation();\n}\n\nfunction timerTickEvent () {\n    if (lastText === this.text) {\n        api.post(this.instance.searchUrl, {\n            text: this.text\n        })\n            .then(response => response.json())\n            .then(elements => updateOptions(elements, this.instance));\n    } else {\n        window.clearTimeout(this.id);\n    }\n}\n\nfunction onSearchBoxInput () {\n    let text:string = this.searchInput.value;\n    let eventArguments:any = {\n        text: text,\n        instance: this\n    };\n    lastText = text;\n\n    eventArguments.id = window.setTimeout(timerTickEvent.bind(eventArguments), 200);\n}\n\nfunction onSelectChose () {\n    if (currentPopup !== null) {\n        currentPopup.close();\n    }\n\n    this.header.innerHTML = this.selected.text;\n    this.element.value = this.selected.value;\n\n    this.fireOnChangeEvent();\n}\n\nfunction createPopupFooter (selectContainer:SelectContainer) : HTMLDivElement {\n    const container:HTMLDivElement = document.createElement('div');\n    const pullRight:HTMLDivElement = document.createElement('div');\n    const send:HTMLElement = document.createElement('a');\n\n    container.classList.add('popup-footer');\n    pullRight.classList.add('pull-right');\n    send.classList.add('ghost-btn', 'ghost-btn-primary');\n\n    send.innerHTML = lang.get('ui.select.choose');\n    send.setAttribute('href', 'javascript:');\n\n    container.appendChild(pullRight);\n    pullRight.appendChild(send);\n\n    send.addEventListener('click', onSelectChose.bind(selectContainer));\n\n    return container;\n}\n\nfunction onShowPopupSelectClicked () {\n    let popup:Popup = new Popup(null, this.title, this.subtitle);\n    popup.basicContentBuilder = new PopupSelectContentBuilder();\n    popup.isForm = true;\n    popup.customClasses = [ 'custom-select-popup' ];\n    popup.footer = createPopupFooter(this);\n    popup.create(this, true);\n    popup.show();\n\n    currentPopup = popup;\n}\n\nfunction setSelected (items:SelectItem[], container:SelectContainer) {\n    let item:any = items.filter(item => item.isSelected);\n    if (item.length == 1) {\n        item = item[0];\n\n        container.header.innerHTML = (item as SelectItem).text;\n        container.selected = item;\n        container.selected.isSelected = true;\n        container.element.value = container.selected.value;\n\n        container.fireOnChangeEvent();\n    } else if (item.length > 1) {\n        throw \"Can't be multiple selected items\";\n    }\n}\n\nexport function onItemSelected () {\n    for (let i = 0; i < this.instance.items.length; i++) {\n        if (this.instance.items[i] !== this.current) {\n            this.instance.items[i].element.classList.remove('active');\n            this.instance.items[i].isSelected = false;\n        }\n    }\n    this.current.element.classList.add('active');\n    this.current.isSelected = true;\n    this.instance.selected = this.current;\n}\n\nexport function registerCreateSelectItem (path:string, createOptionCallback) {\n    createOptionsCallbacks[path] = createOptionCallback;\n}\n\nexport function select () {\n    const rawSelects:NodeListOf<Element> = (document.querySelectorAll('select'));\n    for (let i = 0; i < rawSelects.length; i++) {\n        const container:SelectContainer = new SelectContainer();\n        const rawOptions = rawSelects[i].querySelectorAll('option');\n        const header:HTMLDivElement = document.createElement('div');\n        const wrapper:HTMLDivElement = document.createElement('div');\n        const element:HTMLInputElement = document.createElement('input');\n\n        selects.push(container);\n        container.items = [];\n        container.header = header;\n        container.wrapper = wrapper;\n        container.useAjax = true;\n        container.element = element;\n        container.title = rawSelects[i].getAttribute('data-title');\n        container.subtitle = rawSelects[i].hasAttribute('data-subtitle') ? rawSelects[i].getAttribute('data-subtitle') : '';\n\n        element.type = 'hidden';\n        element.name = rawSelects[i].getAttribute('name');\n\n        header.classList.add('select-header');\n        wrapper.classList.add('select', 'custom-select');\n\n        wrapper.appendChild(header);\n        wrapper.appendChild(element);\n\n        header.addEventListener('click', onShowPopupSelectClicked.bind(container));\n\n        if ((rawSelects[i] as HTMLSelectElement).hasAttribute('data-empty')) {\n            container.emptyPlaceholder = (rawSelects[i] as HTMLSelectElement).getAttribute('data-empty');\n        } else {\n            container.emptyPlaceholder = lang.get('global.select.empty');\n        }\n\n        if (rawSelects[i].hasAttribute('data-search')) {\n            container.isSearchable = true;\n            container.searchUrl = rawSelects[i].getAttribute('data-search').replace(location.origin, '');\n            if (rawSelects[i].hasAttribute('data-search-placeholder')) {\n                container.searchPlaceholder = rawSelects[i].getAttribute('data-search-placeholder');\n            } else {\n                container.searchPlaceholder = lang.get('ui.select.search.placeholder');\n            }\n        }\n\n        if (rawSelects[i].hasAttribute('data-search-alias')) {\n            container.searchAliasUrl = rawSelects[i].getAttribute('data-search-alias').replace(location.origin, '');\n        }\n\n        if (typeof createOptionsCallbacks[container.searchAliasUrl] !== \"undefined\") {\n            container.processItemCallback = createOptionsCallbacks[container.searchAliasUrl];\n        } else if (typeof createOptionsCallbacks[container.searchUrl] !== \"undefined\") {\n            container.processItemCallback = createOptionsCallbacks[container.searchUrl];\n        }\n\n        if (rawSelects[i].hasAttribute('data-preload') && rawSelects[i].getAttribute('data-preload').length > 0) {\n            container.preloadUrl = rawSelects[i].getAttribute('data-preload');\n\n            api.get(container.preloadUrl)\n                .then(response => response.json())\n                .then(container.processItems.bind(container))\n                .then(items => { setSelected(items as SelectItem[], container); return items; })\n                .then(function (items) {\n                    if ((items as any).length < 1) {\n                        header.innerHTML = container.emptyPlaceholder;\n                    }\n                });\n        } else {\n            for (let j = 0; j < rawOptions.length; j++) {\n                let item = {\n                    text: rawOptions[j].innerHTML,\n                    value: rawOptions[j].getAttribute('value'),\n                    element: document.createElement('div'),\n                    isSelected: false\n                } as SelectItem;\n                container.items.push(item);\n            }\n\n            if (rawOptions.length < 1) {\n                header.innerHTML = container.emptyPlaceholder;\n            }\n\n            if (\n                typeof (rawSelects[i] as HTMLSelectElement).options !== \"undefined\" &&\n                typeof (rawSelects[i] as HTMLSelectElement).options[(rawSelects[i] as HTMLSelectElement).selectedIndex] !== \"undefined\"\n            ) {\n                header.innerHTML = (rawSelects[i] as HTMLSelectElement).options[(rawSelects[i] as HTMLSelectElement).selectedIndex].innerHTML;\n                container.selected = container.items[(rawSelects[i] as HTMLSelectElement).selectedIndex];\n                container.selected.isSelected = true;\n                element.value = container.selected.value;\n            } else {\n                container.selected = null;\n            }\n        }\n\n        rawSelects[i].parentElement.replaceChild(wrapper, rawSelects[i]);\n\n        if (rawSelects[i].hasAttribute('id')) {\n            containersAssociations[rawSelects[i].id] = container;\n        }\n    }\n\n    (window as any).selects = selects;\n}\n\nexport function findSelectById (id:string) {\n    for (let key in containersAssociations) {\n        if (id == key) {\n            return containersAssociations[key];\n        }\n    }\n    return null;\n}\n\nclass PopupSelectContentBuilder implements ContentBuilder {\n\n    build(data: SelectContainer): any {\n        const wrapper = document.createElement('div');\n        let items = data.items;\n        let itemsWrapper:HTMLDivElement = document.createElement('div');\n\n        wrapper.classList.add('custom-select-wrapper');\n\n        if (data.isSearchable) {\n            let searchForm:HTMLFormElement = document.createElement('form');\n            let searchBox:HTMLInputElement = document.createElement('input');\n\n            wrapper.appendChild(searchForm);\n            searchForm.appendChild(searchBox);\n\n            searchForm.classList.add('select-search');\n\n            searchBox.placeholder = data.searchPlaceholder;\n            searchBox.addEventListener('input', onSearchBoxInput.bind(data));\n\n            data.searchInput = searchBox;\n        }\n\n        wrapper.appendChild(itemsWrapper);\n        data.optionsWrapper = itemsWrapper;\n\n        for (let i = 0 ; i < items.length; i++) {\n            let item:SelectItem = items[i];\n            let option:HTMLElement = null;\n\n            if (typeof item.createItem !== \"undefined\" && item.createItem !== null) {\n                option = item.createItem(data, item);\n            } else {\n                option = createOption(data, item);\n            }\n\n            itemsWrapper.appendChild(option);\n        }\n        return wrapper;\n    }\n\n}\n"]}