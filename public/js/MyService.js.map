{"version":3,"sources":["MyService.ts"],"names":[],"mappings":";;;;;;AAAA,wBAAsB,oBAEtB,CAAC,CAFyC;AAE1C;IAA+B,6BAAO;IAQlC;QACI,iBAAO,CAAC;QAPF,OAAE,GAAO,IAAI,CAAC;QAEd,WAAM,GAAU,IAAI,CAAC;QAM3B,IAAI,CAAC,EAAE,GAAG,IAAU,MAAO,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1E,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjD,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC9B,CAAC;IAEO,6BAAS,GAAjB,UAAkB,KAAK;QACnB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IAEM,qBAAW,GAAlB;QACI,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,SAAS,CAAC,QAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;QACzC,CAAC;QAED,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC9B,CAAC;IAnBc,kBAAQ,GAAa,IAAI,CAAC;IAqB7C,gBAAC;AAAD,CA3BA,AA2BC,CA3B8B,iBAAO,GA2BrC;AA3BY,iBAAS,YA2BrB,CAAA","file":"MyService.js","sourcesContent":["import {Service} from './services/service'\r\n\r\nexport class MyService extends Service {\r\n\r\n    protected io:any = null;\r\n\r\n    protected ioPort:number = 5888;\r\n\r\n    private static instance:MyService = null;\r\n\r\n    constructor () {\r\n        super();\r\n        this.io = new (<any>window).io.connect(location.host + \":\" + this.ioPort);\r\n        this.io.on('message', this.onMessage.bind(this));\r\n        MyService.instance = this;\r\n    }\r\n\r\n    private onMessage(event):void {\r\n        this.emit(event.channel, event.message.data);\r\n    }\r\n\r\n    static getInstance () {\r\n        if (MyService.instance === null) {\r\n            MyService.instance = new MyService();\r\n        }\r\n\r\n        return MyService.instance;\r\n    }\r\n\r\n}"],"sourceRoot":"/source/"}