{"version":3,"sources":["services/observable.ts"],"names":[],"mappings":"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","file":"services/observable.js","sourcesContent":["export class Observable {\n\n    private data:any = null;\n\n    protected callback:any = null;\n\n    protected filterFunc:any = null;\n\n    protected mapFunc:any = null;\n\n    protected eachFunc:any = null;\n\n    protected next:Observable = null;\n\n    private queue:string[] = [];\n\n    constructor (data?:any) {\n        this.data = data;\n    }\n\n    public then (func:any):Observable {\n        this.callback = func;\n        if (typeof this.data !== \"undefined\") {\n            this.data = this.callback.call(window, this.data);\n        }\n        this.next = new Observable(this.data);\n        this.queue.push('then');\n        return this.next;\n    }\n\n    public filter (func:any):Observable {\n        if (this.data instanceof Array) {\n            this.filterFunc = func;\n            this.data = this.data.filter(func);\n        }\n        this.queue.push('filter');\n        return this;\n    }\n\n    public map (func:any):Observable {\n        if (this.data instanceof Array) {\n            this.mapFunc = func;\n            this.data = this.data.map(func);\n        }\n        this.queue.push('map');\n        return this;\n    }\n\n    public each (func:any):Observable {\n        if (this.data instanceof Array) {\n            this.eachFunc = func;\n            this.data.forEach(this.eachFunc);\n        }\n        this.queue.push('each');\n        return this;\n    }\n\n    public update (data:any) {\n        if (this.callback != null) {\n            this.data = data;\n            for (var i = 0, length = this.queue.length; i < length; i++) {\n                switch (this.queue[i]) {\n                    case 'filter':\n                        if (this.filterFunc != null) {\n                            this.filter(this.filterFunc);\n                        }\n                        break;\n                    case 'map':\n                        if (this.mapFunc != null) {\n                            this.map(this.mapFunc);\n                        }\n                        break;\n                    case 'then':\n                        if (this.callback != null) {\n                            this.data = this.callback.call(window, this.data);\n                        }\n                        break;\n                    case 'each':\n                        if (this.eachFunc != null) {\n                            this.each(this.eachFunc);\n                        }\n                        break;\n                }\n            }\n            if (this.next != null) {\n                this.next.update(this.data);\n            }\n        }\n    }\n\n}\n"],"sourceRoot":"/source/"}