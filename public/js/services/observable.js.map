{"version":3,"sources":["services/observable.ts"],"names":[],"mappings":"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","file":"services/observable.js","sourcesContent":["export class Observable {\r\n\r\n    private data:any = null;\r\n\r\n    protected callback:any = null;\r\n\r\n    protected filterFunc:any = null;\r\n\r\n    protected mapFunc:any = null;\r\n\r\n    protected eachFunc:any = null;\r\n\r\n    protected next:Observable = null;\r\n\r\n    private queue:string[] = [];\r\n\r\n    constructor (data?:any) {\r\n        this.data = data;\r\n    }\r\n\r\n    public then (func:any):Observable {\r\n        this.callback = func;\r\n        if (typeof this.data !== \"undefined\") {\r\n            this.data = this.callback.call(window, this.data);\r\n        }\r\n        this.next = new Observable(this.data);\r\n        this.queue.push('then');\r\n        return this.next;\r\n    }\r\n\r\n    public filter (func:any):Observable {\r\n        if (this.data instanceof Array) {\r\n            this.filterFunc = func;\r\n            this.data = this.data.filter(func);\r\n        }\r\n        this.queue.push('filter');\r\n        return this;\r\n    }\r\n\r\n    public map (func:any):Observable {\r\n        if (this.data instanceof Array) {\r\n            this.mapFunc = func;\r\n            this.data = this.data.map(func);\r\n        }\r\n        this.queue.push('map');\r\n        return this;\r\n    }\r\n\r\n    public each (func:any):Observable {\r\n        if (this.data instanceof Array) {\r\n            this.eachFunc = func;\r\n            this.data.forEach(this.eachFunc);\r\n        }\r\n        this.queue.push('each');\r\n        return this;\r\n    }\r\n\r\n    public update (data:any) {\r\n        if (this.callback != null) {\r\n            this.data = data;\r\n            for (var i = 0, length = this.queue.length; i < length; i++) {\r\n                switch (this.queue[i]) {\r\n                    case 'filter':\r\n                        if (this.filterFunc != null) {\r\n                            this.filter(this.filterFunc);\r\n                        }\r\n                        break;\r\n                    case 'map':\r\n                        if (this.mapFunc != null) {\r\n                            this.map(this.mapFunc);\r\n                        }\r\n                        break;\r\n                    case 'then':\r\n                        if (this.callback != null) {\r\n                            this.data = this.callback.call(window, this.data);\r\n                        }\r\n                        break;\r\n                    case 'each':\r\n                        if (this.eachFunc != null) {\r\n                            this.each(this.eachFunc);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            if (this.next != null) {\r\n                this.next.update(this.data);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}