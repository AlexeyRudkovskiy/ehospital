{"version":3,"sources":["components/medicament/balance.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,+BAAmC,gBACnC,CAAC,CADkD;AACnD,0BAA0B,iBAC1B,CAAC,CAD0C;AAC3C,oBAAkB,WAAW,CAAC,CAAA;AAK9B;IAAA;QAEU,YAAO,GAAU,GAAG,CAAC;QAErB,YAAO,GAAO,EAAE,CAAC;QAEjB,iBAAY,GAAU,CAAC,CAAC,CAAC;IAoBnC,CAAC;IAlBG,uBAAK,GAAL;QAAA,iBAQC;QAPG,SAAG;aACE,GAAG,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC;aAC1D,IAAI,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAf,CAAe,CAAC;aACjC,IAAI,CAAC,UAAA,QAAQ,IAAM,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAEpD,qBAAS,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,6BAA6B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjG,qBAAS,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,6BAA6B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACxG,CAAC;IAEO,qCAAmB,GAA3B,UAA4B,QAAQ;QAChC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAChC,CAAC;IAEO,kCAAgB,GAAxB,UAAyB,QAAQ;QAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAtBD;QAAC,qBAAI;;4CAAA;IAEL;QAAC,qBAAI;;4CAAA;IAEL;QAAC,qBAAI;;iDAAA;IATT;QAAC,6BAAY,CAAC;YACV,QAAQ,EAAE,OAAO,CAAC,6BAA6B,CAAC;SACnD,CAAC;;eAAA;IA2BF,cAAC;AAAD,CA1BA,AA0BC,IAAA;AA1BY,eAAO,UA0BnB,CAAA","file":"components/medicament/balance.js","sourcesContent":["import { VueComponent, Prop } from 'vue-typescript'\nimport { MyService } from '../../MyService'\nimport {API} from \"../../api\";\n\n@VueComponent({\n    template: require('/partials/balance.html!text')\n})\nexport class Balance {\n\n    @Prop balance:number = 0.0;\n\n    @Prop history:any = [];\n\n    @Prop medicamentId:number = -1;\n\n    ready ():void {\n        API\n            .get('/api/medicament/' + (this.medicamentId) + '/history')\n            .then(response => response.json())\n            .then(response => { this.history = response; });\n\n        MyService.getInstance().on('eh.medicament.[0-9].history').then(this.onBalanceChanged.bind(this));\n        MyService.getInstance().on('eh.medicament.[0-9].balance').then(this.onMedicamentChanged.bind(this));\n    }\n\n    private onMedicamentChanged(response): void {\n        console.log(response, this);\n    }\n\n    private onBalanceChanged(response): void {\n        this.history.unshift(response.history);\n    }\n\n}\n"],"sourceRoot":"/source/"}