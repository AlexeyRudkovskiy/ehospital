{"version":3,"sources":["controllers/medicament-show.ts"],"names":[],"mappings":";AACA,6BAA4B,oBAAoB,CAAC,CAAA;AACjD,0BAAyB,iBAAiB,CAAC,CAAA;AAE3C;IAYI;QACI,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;QAC3D,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;QAE/D,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrF,CAAC;IAEO,8CAAqB,GAA7B;QACI,IAAI,KAAK,GAAG,IAAI,0BAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE;YAC/D,uBAAuB,EAAE,IAAI;SAChC,CAAC,CAAC;QACH,KAAK,CAAC,wBAAwB,CAAC,UAAU,IAAI,EAAE,aAAyB;YACpE,IAAI,QAAQ,GAAG,IAAI,oBAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,UAAU,IAAI;gBAC5D,IAAK,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YACtC,CAAC,CAAC,IAAI,CAAC;gBACH,aAAa,EAAE,aAAa;aAC/B,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,IAAI,EAAE,CAAC;IACjB,CAAC;IAEO,gDAAuB,GAA/B;QACI,IAAI,KAAK,GAAG,IAAI,0BAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE;YACnE,uBAAuB,EAAE,IAAI;SAChC,CAAC,CAAC,wBAAwB,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAEvD,KAAK,CAAC,IAAI,EAAE,CAAC;IACjB,CAAC;IAEO,4BAAG,GAAX,UAAY,IAAW;QACnB,MAAM,CAAC,yBAAyB,GAAG,CAAO,MAAO,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;IAClF,CAAC;IAEL,qBAAC;AAAD,CA9CA,AA8CC,IAAA;AA9CY,sBAAc,iBA8C1B,CAAA","file":"controllers/medicament-show.js","sourcesContent":["import { Popup } from '../ui/popup'\nimport { InlinePopup } from \"../ui/inline-popup\";\nimport { AjaxForm } from \"../ui/ajax-form\";\n\nexport class MedicamentShow {\n\n    /**\n     * income button\n     */\n    protected income:Element;\n\n    /**\n     * outgoing button\n     */\n    protected outgoing:Element;\n\n    constructor () {\n        this.income = document.querySelector('#medicament_income');\n        this.outgoing = document.querySelector('#medicament_outgoing');\n\n        this.income.addEventListener('click', this.onIncomeButtonClicked.bind(this));\n        this.outgoing.addEventListener('click', this.onOutgoingButtonClicked.bind(this));\n    }\n\n    private onIncomeButtonClicked():void {\n        var popup = new InlinePopup(this.income, this.url('income'), true, {\n            close_after_form_submit: true\n        });\n        popup.setOnLoadedEventListener(function (data, popupInstance:InlinePopup) {\n            var ajaxForm = new AjaxForm(data.querySelector('form'), function (data) {\n                (<any>this).popupInstance.close();\n            }.bind({\n                popupInstance: popupInstance\n            }));\n        });\n        popup.show();\n    }\n\n    private onOutgoingButtonClicked():void {\n        var popup = new InlinePopup(this.outgoing, this.url('outgoing'), true, {\n            close_after_form_submit: true\n        }).setOnLoadedEventListener(console.log.bind(console));\n\n        popup.show();\n    }\n\n    private url(path:string):string {\n        return \"/management/medicament/\" + ((<any>window).medicament.id) + \"/\" + path;\n    }\n\n}"],"sourceRoot":"/source/"}